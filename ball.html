<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Ball</title>

    <!-- 1. ここにP5.jsを読み込む -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js"></script>

    <!-- 2.以下にsetup関数とdraw関数を定義 -->
    <script>
      function setup() {
        createCanvas(800, 800);
        noStroke();
      }

      function preload() {
        fish = loadImage("img/sakana.png");
      }

      let targetX = 0;
      let targetY = 0;
      let myX = 400;
      let myY = 700;

      function draw() {
        background(0);
        circle(myX, myY, 50, 50);

        fish_img = image(fish, targetX, targetY, 100, 100);
        targetY += 5;
        if (targetY > 800) {
          targetY = 0;
          targetX = random(700);
        }

        if (
          Math.sqrt(
            (targetX - myX) * (targetX - myX) +
              (targetY - myY) * (targetY - myY)
          ) < 30
        ) {
          background(255, 0, 255);
        }
      }
    </script>
  </head>
  <body></body>
</html>
